#include <SetUpA4.h>#define			DrawStringAdd		0xA884//Routinesvoid			main				(void);pascal	void	PatchDrawString		(Str255);static	void	GnirtsString		(Str255,Str255);//Memoriespascal	void	(*GOldDrawString)	(ConstStr255Param);void main(void){	Handle		INITResH;		RememberA0();	SetUpA4();		if((INITResH = Get1Resource('INIT',0)) != NULL){		DetachResource(INITResH);		HLockHi(INITResH);				GOldDrawString = (void*)StripAddress(NGetTrapAddress(DrawStringAdd,ToolTrap));		NSetTrapAddress((ProcPtr)PatchDrawString,DrawStringAdd,ToolTrap);	}		RestoreA4();	return;}/*main*/pascal void PatchDrawString(Str255 String){	Str255		Temp;		SetUpA4();	GnirtsString(String,Temp);	(*GOldDrawString)(Temp);	RestoreA4();	return;}/*PatchDrawString*/static void GnirtsString(Str255 String,Str255 Temp){	short		Bytes;	short		i;		Bytes = String[0];	Temp[0] = String[0];		for(i=0;i<Bytes;i++){		switch(CharacterByteType((Ptr)&(String[i+1]),0,smSystemScript)){			case 0:				Temp[Bytes-i] = String[i+1];				break;			case -1:				Temp[Bytes-i] = String[i+2];				Temp[Bytes-i-1] = String[i+1];				i++;				break;			default:				break;		}	}	return;}/*GnirtsString*/